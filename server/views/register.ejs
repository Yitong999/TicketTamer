<h1>Register</h1>
<!-- <% if (query.error) { %>
    <p>Registration failed. Please try again.</p>
<% } %>

<% if (query.registered) { %>
    <p>Registration successful! Please login.</p>
<% } %> -->
<script>
    // Immediately-invoked function to check for URL parameters and show alerts
    (function() {
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
        const registered = urlParams.get('registered');
    
        if (error) {
            alert('Registration failed. Please try again.');
        }
        if (registered) {
            alert('Registration successful!');
        }
    })();
</script>
<form action="/register" method="POST">
    <div>
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>
    </div>
    <div>
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
    </div>
    <div>
        <label for="shop">Shop</label>
        <select id="shop" name="shop" required>
            <option value="IT">IT</option>
            <option value="Chemistry">Chemistry</option>
            <option value="Glass">Glass</option>
            <option value="Electronics">Electronics</option>
            <!-- Add more shops as needed -->
        </select>
    </div>
    <div>
        <label for="role">Role</label>
        <select id="role" name="role" required>
            <option value="staff">staff</option>
            <option value="supervisor">supervisor</option>
            <!-- Add more roles as needed -->
        </select>
    </div>
    <div>
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
    </div>
    <button type="submit">Register</button>
</form>
<a href="/login">Login</a>
